{"version":3,"file":"commonHelpers.js","sources":["../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '23089683-10e6383e94187ff47334541d4';\nconst URL = 'https://pixabay.com/api/';\n\nconst example =\n  'https://pixabay.com/api/?key=23089683-10e6383e94187ff47334541d4&q=yellow+flowers&image_type=photo';\n\nconst refs = {\n  //   form: document.querySelector('form'),\n  input: document.querySelector('input'),\n  button: document.querySelector('button'),\n  list: document.querySelector('.img-list'),\n};\n\nrefs.input.addEventListener('input', onInputChange);\nrefs.button.addEventListener('click', onClickButton);\n\nlet value = '';\n\nfunction onInputChange(e) {\n  e.preventDefault();\n  value = e.target.value;\n}\n\nfunction onClickButton(e) {\n  e.preventDefault();\n  fetchImages(value);\n}\n\nasync function fetchImages(value) {\n  return await axios(\n    `${URL}?key=${API_KEY}&per_page=40&image_type=photo&orientation=horizontal&safesearch=true&q=${value}`\n  )\n    .then(({ data }) => createMarkup(data))\n    .catch(err => console.log(err.message))\n    .finally(() => console.log('Finally'));\n}\n\nfunction createMarkup(data) {\n  refs.list.innerHTML = '';\n  const markup = '';\n  const { hits } = data;\n  console.log(hits);\n  //   hits.map(({ largeImageURL, tags }) => {\n  //     console.log(largeImageURL);\n  //     console.log(markup);\n  //     const imgMarkup = `<li>\n  //       <img src=${largeImageURL} alt=${tags} width=\"200px\">\n  //     </li>`;\n  //     return (markup = markup + imgMarkup);\n  //   });\n  hits.map(({ largeImageURL, tags }) => {\n    const imgMarkup = `<li>\n      <img src=${largeImageURL} alt=${tags} width=\"200px\">\n    </li>`;\n    refs.list.insertAdjacentHTML('beforeend', imgMarkup);\n  });\n  console.log('markup: ', markup);\n}\n"],"names":["API_KEY","URL","refs","onInputChange","onClickButton","value","e","fetchImages","axios","data","createMarkup","err","markup","hits","largeImageURL","tags","imgMarkup"],"mappings":"svBAEA,MAAMA,EAAU,qCACVC,EAAM,2BAKNC,EAAO,CAEX,MAAO,SAAS,cAAc,OAAO,EACrC,OAAQ,SAAS,cAAc,QAAQ,EACvC,KAAM,SAAS,cAAc,WAAW,CAC1C,EAEAA,EAAK,MAAM,iBAAiB,QAASC,CAAa,EAClDD,EAAK,OAAO,iBAAiB,QAASE,CAAa,EAEnD,IAAIC,EAAQ,GAEZ,SAASF,EAAcG,EAAG,CACxBA,EAAE,eAAc,EAChBD,EAAQC,EAAE,OAAO,KACnB,CAEA,SAASF,EAAcE,EAAG,CACxBA,EAAE,eAAc,EAChBC,EAAYF,CAAK,CACnB,CAEA,eAAeE,EAAYF,EAAO,CAChC,OAAO,MAAMG,EACX,GAAGP,SAAWD,2EAAiFK,GAChG,EACE,KAAK,CAAC,CAAE,KAAAI,CAAM,IAAKC,EAAaD,CAAI,CAAC,EACrC,MAAME,GAAO,QAAQ,IAAIA,EAAI,OAAO,CAAC,EACrC,QAAQ,IAAM,QAAQ,IAAI,SAAS,CAAC,CACzC,CAEA,SAASD,EAAaD,EAAM,CAC1BP,EAAK,KAAK,UAAY,GACtB,MAAMU,EAAS,GACT,CAAE,KAAAC,CAAM,EAAGJ,EACjB,QAAQ,IAAII,CAAI,EAShBA,EAAK,IAAI,CAAC,CAAE,cAAAC,EAAe,KAAAC,CAAI,IAAO,CACpC,MAAMC,EAAY;AAAA,iBACLF,SAAqBC;AAAA,WAElCb,EAAK,KAAK,mBAAmB,YAAac,CAAS,CACvD,CAAG,EACD,QAAQ,IAAI,WAAYJ,CAAM,CAChC"}